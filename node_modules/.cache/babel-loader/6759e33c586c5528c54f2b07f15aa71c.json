{"ast":null,"code":"var _jsxFileName = \"/Users/ming/Documents/GitHub/MonitorSystem_React/src/functionnality/Modal.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\"; // https://getbootstrap.com/docs/4.3/components/modal/\n\nfunction Modal(props) {\n  const [event, setEvent] = useState([]); // tab 1 content\n\n  const [detail, setDetail] = useState({}); // tab 2 content\n\n  const [temp, setTemp] = useState({});\n  const [closed, setClosed] = useState(false);\n  const timeKeyFilter = [\"agingTimeH\", \"touchTimeH\", \"queueTimeH\"];\n  const url = \"../src/api/category/read_detail.php\";\n\n  const renderClosedAlert = () => {\n    return React.createElement(\"div\", {\n      class: \"alert alert-danger m-0 sticky-top\",\n      role: \"alert\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16\n      },\n      __self: this\n    }, \"This Discrepancy is Closed\");\n  };\n\n  const handleClose = () => {\n    props.setModalState(false);\n  };\n\n  useEffect(() => {\n    let id = setInterval(() => {\n      if (props.modalActive) {\n        setTemp(props.event); // console.log(temp)\n        // console.log(\"=> Fetching Detail...\")\n\n        const fetchData = async () => {\n          axios.post(url, [props.event.ncrNumber, props.event.discrNo]).then(response => {\n            // console.log(\"==== 1- RESPONSE => ============================\\n\")\n            // console.log(response)\n            // console.log(\"==== 2- RESPONSE.DATA => =======================\\n\")\n            // console.log(response.data)\n\n            /** Throw error for unexpected result fetched */\n            if (!response.data.data[0]) {\n              throw new Error(\"[response.data.data is \" + response.data.data);\n            }\n\n            if (!response.data.data_signoffdet) {\n              throw new Error(\"[response.data.data_signoffdet is \" + response.data.data_signoffdet);\n            }\n            /** Update the data onto state */\n\n\n            setDetail(response.data.data[0]);\n            setEvent(response.data.data_signoffdet); // console.log(\"===> DETAIL ===>\")\n            // console.log(detail)\n            // console.log(\"===> EVENT ===>\")\n            // console.log(event)\n            // console.log(\n            //   \"\\n>>>>>>>>>>>>-> SUCCESS  (Modal.js) <-<<<<<<<<<<<<\\n\\n\\n\"\n            // )\n          }).catch(error => {\n            console.log(error);\n            console.log(\"\\n>>>>>>>>>>>>>->  FAILED (Modal.js)  <-<<<<<<<<<<<<\\n\\n\\n\");\n          });\n        };\n\n        fetchData();\n      }\n    }, 1000);\n    return () => clearInterval(id);\n  }, [detail, event, props, temp]);\n  return React.createElement(\"div\", {\n    id: \"exampleModal\",\n    className: \"modal fade\",\n    tabIndex: \"-1\",\n    role: \"dialog\",\n    \"data-backdrop\": \"static\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-dialog modal-lg\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"modal-content\",\n    style: modalContentStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, closed ? renderClosedAlert() : null, React.createElement(\"div\", {\n    className: \"modal-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    className: \"modal-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, props.event.groupName, \" - \", props.event.ncrNumber, \" -\", \" \", props.event.discrNo), React.createElement(\"button\", {\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    onClick: () => handleClose(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"\\xD7\")), React.createElement(\"div\", {\n    className: \"modal-body\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(\"nav\", {\n    className: \"sticky-top mx-1  pb-2\",\n    style: {\n      backgroundColor: \"white\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"nav nav-tabs \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(\"a\", {\n    className: \"nav-item nav-link \",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Sign-off (\", event.length, \")\"), React.createElement(\"a\", {\n    className: \"nav-item nav-link\",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, \"Detail\"), React.createElement(\"a\", {\n    className: \"nav-item nav-link active\",\n    \"data-toggle\": \"tab\",\n    href: \"#nav-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"General (temporary)\"))), React.createElement(\"div\", {\n    className: \"tab-content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    // className=\"tab-pane fade show active\"\n    className: \"tab-pane fade\",\n    id: \"nav-1\",\n    style: modalStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, event.map(e => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, Object.entries(e).map(([key, value]) => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row py-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-5\",\n    style: titleStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, key), React.createElement(\"div\", {\n    className: \"col\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, timeKeyFilter.includes(key) ? (Math.round(value * 100) / 100).toFixed(2) : value)), React.createElement(\"hr\", {\n    style: hrStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }))), React.createElement(\"hr\", {\n    className: \"  border-bottom border-dark\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    className: \"tab-pane fade\",\n    id: \"nav-2\",\n    style: modalStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, Object.entries(detail).map(([key, value]) => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row py-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-5\",\n      style: titleStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, key), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, value)), React.createElement(\"hr\", {\n      style: hrStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }));\n  }))), React.createElement(\"div\", {\n    // className=\"tab-pane fade\"\n    className: \"tab-pane fade show active\",\n    id: \"nav-3\",\n    style: modalStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, Object.entries(temp).map(([key, value]) => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row py-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-4\",\n      style: titleStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, key), React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, value)), React.createElement(\"hr\", {\n      style: hrStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }));\n  }))))), React.createElement(\"div\", {\n    className: \"modal-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"btn btn-secondary btn-sm\",\n    \"data-dismiss\": \"modal\",\n    onClick: () => handleClose(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, \"Close\")))), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-light btn-lg\",\n    \"data-dismiss\": \"modal\",\n    onClick: () => handleClose(),\n    style: flowBtnClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  }, \"Close\"));\n}\n\nconst titleStyle = {\n  fontWeight: \"bold\"\n};\nconst hrStyle = {\n  marginTop: \"2px\",\n  marginBottom: \"2px\"\n};\nconst modalStyle = {\n  paddingTop: \"10px\"\n};\nconst flowBtnClose = {\n  position: \"fixed\",\n  bottom: \"20px\",\n  right: \"40px\"\n};\nconst modalContentStyle = {\n  minHeight: \"65vh\"\n};\nexport default Modal;","map":{"version":3,"sources":["/Users/ming/Documents/GitHub/MonitorSystem_React/src/functionnality/Modal.js"],"names":["React","useState","useEffect","axios","Modal","props","event","setEvent","detail","setDetail","temp","setTemp","closed","setClosed","timeKeyFilter","url","renderClosedAlert","handleClose","setModalState","id","setInterval","modalActive","fetchData","post","ncrNumber","discrNo","then","response","data","Error","data_signoffdet","catch","error","console","log","clearInterval","modalContentStyle","groupName","backgroundColor","length","modalStyle","map","e","Object","entries","key","value","titleStyle","includes","Math","round","toFixed","hrStyle","flowBtnClose","fontWeight","marginTop","marginBottom","paddingTop","position","bottom","right","minHeight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport axios from \"axios\"\n\n// https://getbootstrap.com/docs/4.3/components/modal/\nfunction Modal(props) {\n  const [event, setEvent] = useState([]) // tab 1 content\n  const [detail, setDetail] = useState({}) // tab 2 content\n  const [temp, setTemp] = useState({})\n  const [closed, setClosed] = useState(false)\n\n  const timeKeyFilter = [\"agingTimeH\", \"touchTimeH\", \"queueTimeH\"]\n  const url = \"../src/api/category/read_detail.php\"\n\n  const renderClosedAlert = () => {\n    return (\n      <div class=\"alert alert-danger m-0 sticky-top\" role=\"alert\">\n        This Discrepancy is Closed\n      </div>\n    )\n  }\n\n  const handleClose = () => {\n    props.setModalState(false)\n  }\n\n  useEffect(() => {\n    let id = setInterval(() => {\n      if (props.modalActive) {\n        setTemp(props.event)\n        // console.log(temp)\n        // console.log(\"=> Fetching Detail...\")\n        const fetchData = async () => {\n          axios\n            .post(url, [props.event.ncrNumber, props.event.discrNo])\n            .then(response => {\n              // console.log(\"==== 1- RESPONSE => ============================\\n\")\n              // console.log(response)\n              // console.log(\"==== 2- RESPONSE.DATA => =======================\\n\")\n              // console.log(response.data)\n\n              /** Throw error for unexpected result fetched */\n              if (!response.data.data[0]) {\n                throw new Error(\"[response.data.data is \" + response.data.data)\n              }\n              if (!response.data.data_signoffdet) {\n                throw new Error(\n                  \"[response.data.data_signoffdet is \" +\n                    response.data.data_signoffdet\n                )\n              }\n\n              /** Update the data onto state */\n              setDetail(response.data.data[0])\n              setEvent(response.data.data_signoffdet)\n\n              // console.log(\"===> DETAIL ===>\")\n              // console.log(detail)\n              // console.log(\"===> EVENT ===>\")\n              // console.log(event)\n\n              // console.log(\n              //   \"\\n>>>>>>>>>>>>-> SUCCESS  (Modal.js) <-<<<<<<<<<<<<\\n\\n\\n\"\n              // )\n            })\n            .catch(error => {\n              console.log(error)\n              console.log(\n                \"\\n>>>>>>>>>>>>>->  FAILED (Modal.js)  <-<<<<<<<<<<<<\\n\\n\\n\"\n              )\n            })\n        }\n        fetchData()\n      }\n    }, 1000)\n    return () => clearInterval(id)\n  }, [detail, event, props, temp])\n\n  return (\n    <div\n      id=\"exampleModal\"\n      className=\"modal fade\"\n      tabIndex=\"-1\"\n      role=\"dialog\"\n      data-backdrop=\"static\"\n    >\n      <div className=\"modal-dialog modal-lg\">\n        <div className=\"modal-content\" style={modalContentStyle}>\n          {closed ? renderClosedAlert() : null}\n          <div className=\"modal-header\">\n            {/* MODAL TITLE */}\n            <h6 className=\"modal-title\">\n              {props.event.groupName} - {props.event.ncrNumber} -{\" \"}\n              {props.event.discrNo}\n            </h6>\n\n            {/* close button */}\n            <button\n              className=\"close\"\n              data-dismiss=\"modal\"\n              onClick={() => handleClose()}\n            >\n              &times;\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            {/* TABLIST */}\n            <nav\n              className=\"sticky-top mx-1  pb-2\"\n              style={{ backgroundColor: \"white\" }}\n            >\n              <div className=\"nav nav-tabs \">\n                {/* TAB_1 HEADER */}\n                <a\n                  className=\"nav-item nav-link \"\n                  data-toggle=\"tab\"\n                  href={\"#nav-1\"}\n                >\n                  Sign-off ({event.length})\n                </a>\n                {/* TAB_2 HEADER */}\n                <a\n                  className=\"nav-item nav-link\"\n                  data-toggle=\"tab\"\n                  href={\"#nav-2\"}\n                >\n                  Detail\n                </a>\n                {/* TAB_3 HEADER */}\n                <a\n                  className=\"nav-item nav-link active\"\n                  data-toggle=\"tab\"\n                  href={\"#nav-3\"}\n                >\n                  General (temporary)\n                </a>\n              </div>\n            </nav>\n            {/* ^ TABLIST ^ */}\n\n            {/* TABs */}\n            <div className=\"tab-content\">\n              {/* TAB_1 */}\n              <div\n                // className=\"tab-pane fade show active\"\n                className=\"tab-pane fade\"\n                id={\"nav-1\"}\n                style={modalStyle}\n              >\n                <div className=\"container\">\n                  {event.map(e => (\n                    <div>\n                      {Object.entries(e).map(([key, value]) => (\n                        <div>\n                          <div className=\"row py-0\">\n                            <div className=\"col-5\" style={titleStyle}>\n                              {key}\n                            </div>\n                            <div className=\"col\">\n                              {timeKeyFilter.includes(key)\n                                ? (Math.round(value * 100) / 100).toFixed(2)\n                                : value}\n                            </div>\n                          </div>\n                          <hr style={hrStyle} />\n                        </div>\n                      ))}\n                      <hr className=\"  border-bottom border-dark\" />\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* TAB_2 */}\n              <div className=\"tab-pane fade\" id={\"nav-2\"} style={modalStyle}>\n                <div className=\"container\">\n                  {Object.entries(detail).map(([key, value]) => {\n                    return (\n                      <div>\n                        <div className=\"row py-0\">\n                          <div className=\"col-5\" style={titleStyle}>\n                            {key}\n                          </div>\n                          <div className=\"col\">{value}</div>\n                        </div>\n                        <hr style={hrStyle} />\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n\n              {/* TAB_3 */}\n              <div\n                // className=\"tab-pane fade\"\n                className=\"tab-pane fade show active\"\n                id={\"nav-3\"}\n                style={modalStyle}\n              >\n                <div className=\"container\">\n                  {Object.entries(temp).map(([key, value]) => {\n                    return (\n                      <div>\n                        <div className=\"row py-0\">\n                          <div className=\"col-4\" style={titleStyle}>\n                            {key}\n                          </div>\n                          <div className=\"col\">{value}</div>\n                        </div>\n                        <hr style={hrStyle} />\n                      </div>\n                    )\n                  })}\n                </div>\n              </div>\n            </div>\n          </div>\n          {/* MODAL FOOTER */}\n          <div className=\"modal-footer\">\n            <button\n              className=\"btn btn-secondary btn-sm\"\n              data-dismiss=\"modal\"\n              onClick={() => handleClose()}\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Float close buttom */}\n      <button\n        type=\"button\"\n        className=\"btn btn-light btn-lg\"\n        data-dismiss=\"modal\"\n        onClick={() => handleClose()}\n        style={flowBtnClose}\n      >\n        Close\n      </button>\n    </div>\n  )\n}\n\nconst titleStyle = {\n  fontWeight: \"bold\"\n}\nconst hrStyle = {\n  marginTop: \"2px\",\n  marginBottom: \"2px\"\n}\nconst modalStyle = {\n  paddingTop: \"10px\"\n}\nconst flowBtnClose = {\n  position: \"fixed\",\n  bottom: \"20px\",\n  right: \"40px\"\n}\nconst modalContentStyle = {\n  minHeight: \"65vh\"\n}\nexport default Modal\n"]},"metadata":{},"sourceType":"module"}